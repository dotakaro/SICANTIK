<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="hr_contract_salary_view_employee_form" model="ir.ui.view">
        <field name="name">hr.employee.form.inherit.contract_salary</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="arch" type="xml">
            <xpath expr="//label[@for='wage']" position="attributes">
                <attribute name="invisible">holidays != 0.0</attribute>
            </xpath>
            <xpath expr="//div[@name='wage']" position="attributes">
                <attribute name="invisible">holidays != 0.0</attribute>
            </xpath>
            <xpath expr="//div[@name='wage']" position="after">
                <label name="label_wage_with_holidays" for="wage_with_holidays" invisible="holidays == 0.0"/>
                <div class="o_row" name="div_wage_with_holidays" invisible="holidays == 0.0">
                    <field name="wage_with_holidays" class="o_hr_narrow_field"/>
                    <span>/ month</span>
                </div>
            </xpath>
            <button name="action_open_versions" position="before">
                <button name="action_show_contract_reviews" class="oe_stat_button" icon="fa-book" type="object" help="Contracts Reviews" invisible="not employee_id or contract_reviews_count == 0">
                    <div class="o_field_widget o_stat_info">
                        <span class="o_stat_value"><field name="contract_reviews_count"/></span>
                        <span class="o_stat_text">Reviews</span>
                    </div>
                </button>
                <button name="action_show_offers" invisible="salary_offers_count == 0" class="oe_stat_button" icon="fa-handshake-o" type="object" help="Sent Offers">
                    <div class="o_field_widget o_stat_info ms-1">
                        <span class="o_stat_value"><field name="salary_offers_count"/></span>
                        <span class="o_stat_text">Offers</span>
                    </div>
                </button>
            </button>
            <header position="inside">
                <field name="current_date_version" invisible="1"/>
                <button name="action_generate_offer" type="object" string="Generate Offer" invisible="current_date_version &gt; date_version" groups="hr.group_hr_manager" class="btn-secondary"/>
            </header>
            <group name="contract" position="inside">
                <field name="originated_offer_id" readonly="1" invisible="not originated_offer_id"/>
            </group>
            <page name="hr_settings" position="before">
                <page string="Signatories" groups="hr.group_hr_manager">
                    <div class="d-flex align-items-center">
                        <field name="template_warning" class="mb-0" readonly="1" invisible="not template_warning"/>
                        <widget name="upload_pdf_button" invisible="not template_warning"/>
                    </div>
                    <group string="New Contract" invisible="template_warning">
                        <field string="PDF Template" name="sign_template_id" options="{'no_create': True}" context="{'kanban_view_ref': 'sign.sign_template_view_kanban_mobile'}"/>
                        <field name="sign_template_signatories_ids" nolabel="1" colspan="2" invisible="not sign_template_id">
                            <list editable="bottom" create="false" delete="false">
                                <field name="sign_role_id" readonly="1" force_save="1" options="{'no_open': True}"/>
                                <field name="signatory" required="1" force_save="1" options="{'no_open': True}"/>
                                <field name="partner_id" placeholder="Name or email..." options="{'no_open': True}"
                                       context="{'force_email': True, 'show_email': True}"
                                       invisible="signatory != 'partner'" required="signatory == 'partner'"/>
                                <field name="order" force_save="1" options="{'no_open': True}" optional="hide"/>
                            </list>
                        </field>
                    </group>
                    <group string="Contract Update" invisible="template_warning">
                        <field string="PDF Template" name="contract_update_template_id" options="{'no_create': True}"/>
                        <field name="contract_update_signatories_ids" nolabel="1" colspan="2" invisible="not contract_update_template_id">
                            <list editable="bottom" create="false" delete="false">
                                <field name="sign_role_id" readonly="1" force_save="1" options="{'no_open': True}"/>
                                <field name="signatory" required="1" force_save="1" options="{'no_open': True}"/>
                                <field name="partner_id" placeholder="Name or email..." options="{'no_open': True}"
                                       context="{'force_email': True, 'show_email': True}"
                                       invisible="signatory != 'partner'" required="signatory == 'partner'"/>
                                <field name="order" force_save="1" options="{'no_open': True}" optional="hide"/>
                            </list>
                        </field>
                    </group>
                </page>
            </page>
            <separator name="schedule" position="before">
                <separator name="employer_costs" string="Employer Costs"/>
                <label name="final_yearly_costs" for="final_yearly_costs"/>
                <div name="final_yearly_costs" class="o_row">
                    <field name="final_yearly_costs" class="o_hr_narrow_field"/>
                    <span>/ year</span>
                </div>
                <label name="monthly_yearly_costs" for="monthly_yearly_costs"/>
                <div name="monthly_yearly_costs" class="o_row">
                    <field name="monthly_yearly_costs" class="o_hr_narrow_field text-muted"/>
                    <span class="mb-3 text-muted">/ month</span>
                </div>
                <label name="wage_on_signature" for="wage_on_signature"/>
                <div name="wage_on_signature" class="o_row">
                    <field class="o_hr_narrow_field" name="wage_on_signature"/>
                    <div name="wage_on_signature_period_label">/ month</div>
                </div>
            </separator>
        </field>
    </record>
</odoo>
